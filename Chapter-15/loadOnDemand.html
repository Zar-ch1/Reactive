<html>

<head>
    <script>document.addEventListener("DOMContentLoaded", (event) => {
            console.log("DOM fully loaded and parsed");
            console.log('btnload', document.getElementById('btnLoad'));
        });

    </script>
</head>

<body>

    <button type="button" id="btnLoad"> LOAD </button>
</body>
<script>
    var data = 'hello';
    
</script>
<script>
    window.onerror = function (error){
        console.log('Error happened', error);
    };
    throw new Error;
    console.log('share nameSpace', data);
    function importScript(url) {
        return new Promise((resolve, reject) => {
            let s = document.createElement('script');
            s.onload = () => resolve();
            s.onerror = (error) => reject(error);
            s.src = url;
            document.head.append(s);
        })
    }
    //document is DOM API
    document.getElementById('btnLoad')
        .addEventListener('click', () => {
            console.log('Click');
            /*
            let element = document.createElement('div');
            element.innerText = 'Hello';
            document.body.append(element);
            */
            importScript('./lib1.js').then(() => console.log('scripted loaded'));
        })

</script>


</html>